const Translations = {
    en: {
        nav_dashboard: "Dashboard",
        nav_motivation: "Motivation",
        nav_progress: "Progress",
        nav_calmbot: "CalmBot",
        nav_emergency: "Emergency",
        nav_help: "Help",
        
        welcome_back: "Welcome back,",
        tagline_dashboard: "You're doing amazing today",
        days_smoke_free: "Days Smoke-Free",
        days_alcohol_free: "Days Alcohol-Free",
        money_saved: "Money Saved",
        cravings_resisted: "Cravings Resisted",
        your_recovery_journey: "Your Recovery Journey",
        smoking_recovery: "Smoking Recovery",
        alcohol_recovery: "Alcohol Recovery",
        just_starting: "Just starting your journey",
        quick_actions: "Quick Actions",
        log_craving: "Log Craving",
        breathing_exercise: "Breathing Exercise",
        find_motivation: "Find Motivation",
        recent_achievements: "Recent Achievements",
        
        first_day: "First Day",
        first_day_desc: "Complete your first day clean",
        week_warrior: "Week Warrior",
        week_warrior_desc: "Stay clean for 7 days",
        month_master: "Month Master",
        month_master_desc: "Achieve 30 days of recovery",
        
        motivation_wall: "Motivation Wall",
        tagline_motivation: "Find strength in every moment",
        community_encouragement: "Community Encouragement",
        
        progress_tracker: "Progress Tracker",
        tagline_progress: "Visualize your journey",
        tab_daily: "Daily",
        tab_weekly: "Weekly",
        tab_monthly: "Monthly",
        tab_all: "All Time",
        today_summary: "Today's Summary",
        cravings_logged: "Cravings Logged",
        resisted: "Resisted",
        today_logs: "Today's Logs",
        no_logs_today: "No logs today yet",
        this_week_progress: "This Week's Progress",
        total_logged: "Total Logged",
        success_rate: "Success Rate",
        weekly_insights: "Weekly Insights",
        monthly_overview: "Monthly Overview",
        health_improvements: "Health Improvements",
        milestones_achieved: "Milestones Achieved",
        complete_history: "Complete History",
        
        calmbot_title: "CalmBot",
        tagline_calmbot: "Your AI companion for support",
        calmbot_greeting: "Hi there! I'm CalmBot, your supportive companion. How are you feeling today?",
        struggling_cravings: "I'm struggling with cravings",
        doing_well: "I'm doing well today",
        need_tips: "I need coping tips",
        need_motivation: "I need motivation",
        type_message: "Type your message...",
        
        emergency_support: "Emergency Support",
        tagline_emergency: "Help is always available",
        start_breathing: "Start Breathing Exercise",
        calm_mind: "Calm your mind in 2 minutes",
        talk_calmbot: "Talk to CalmBot",
        immediate_support: "Get immediate support",
        crisis_hotlines: "Crisis Hotlines",
        trusted_contacts: "Trusted Contacts",
        add_contact: "Add Trusted Contact",
        add_contact_desc: "Add someone you trust for quick access during tough moments",
        
        help_tips: "Help & Tips",
        tagline_help: "Your recovery toolkit",
        faq_title: "Frequently Asked Questions",
        coping_strategies: "Quick Coping Strategies",
        
        close: "Close",
        save: "Save",
        cancel: "Cancel",
        
        log_craving_title: "Log Craving",
        type: "Type",
        select_type: "Select type",
        smoking_vaping: "Smoking/Vaping",
        alcohol: "Alcohol",
        both: "Both",
        intensity: "Intensity",
        what_triggered: "What triggered it?",
        select_trigger: "Select trigger",
        trigger_stress: "Stress",
        trigger_social: "Social Setting",
        trigger_boredom: "Boredom",
        trigger_habit: "Habit/Routine",
        trigger_emotion: "Strong Emotion",
        trigger_other: "Other",
        notes: "Notes (optional)",
        notes_placeholder: "How are you feeling?",
        resisted_craving: "I resisted this craving",
        save_log: "Save Log",
        
        breathing_title: "Breathing Exercise",
        get_ready: "Get ready...",
        start_exercise: "Start Exercise",
        stop_exercise: "Stop Exercise",
        breathe_in: "Breathe In...",
        hold: "Hold...",
        breathe_out: "Breathe Out...",
        great_job: "Great job! You completed the exercise.",
        start_again: "Start Again",
        
        settings: "Settings",
        personal: "Personal",
        display_name: "Display Name",
        display_name_hint: "How you'd like to be addressed in the app",
        language: "Language",
        language_hint: "Choose your preferred language",
        display: "Display",
        theme: "Theme",
        theme_hint: "Choose your color scheme",
        dark_mode: "Dark Mode (Default)",
        light_mode: "Light Mode",
        auto_theme: "Auto (System)",
        text_size: "Text Size",
        text_size_hint: "Adjust text size for better readability",
        size_small: "Small",
        size_normal: "Normal (Default)",
        size_large: "Large",
        size_xlarge: "Extra Large",
        high_contrast: "High Contrast Mode",
        high_contrast_hint: "Increase contrast for better visibility",
        reduce_animations: "Reduce Animations",
        reduce_animations_hint: "Minimize movement for sensitive users",
        notifications: "Notifications",
        enable_notifications: "Enable Notifications",
        notifications_hint: "Show achievement and reminder notifications",
        sound_effects: "Sound Effects",
        sound_effects_hint: "Play sounds for interactions and achievements",
        data_management: "Data Management",
        export_data: "Export Your Data",
        export_hint: "Download your data as JSON backup",
        export_btn: "Export",
        reset_data: "Reset All Data",
        reset_hint: "This will delete all your progress permanently",
        reset_btn: "Reset",
        about: "About",
        app_name: "ReKindle",
        version: "Version 1.0",
        app_description: "Your companion for recovery and transformation",
        app_credits: "HCI Final Project â€¢ Built with â¤ï¸",
        
        name_updated: "Name updated!",
        language_updated: "Language updated!",
        theme_updated: "Theme updated!",
        text_size_updated: "Text size updated!",
        high_contrast_enabled: "High contrast enabled",
        high_contrast_disabled: "High contrast disabled",
        animations_reduced: "Animations reduced",
        animations_enabled: "Animations enabled",
        data_exported: "Data exported successfully!",
        amazing_resisted: "Amazing! You resisted!",
        progress_not_linear: "Logged. Remember, progress isn't linear. Keep going!",
        breathing_completed: "Breathing exercise completed!",
        
        days_strong: "{{days}} day{{plural}} strong!",
        days_counting: "{{days}} days and counting! Keep going!",
        days_amazing: "{{days}} days! You're doing amazing!",
        days_champion: "{{days}} days! You're a champion!",
    },
    
    fil: {
        nav_dashboard: "Dashboard",
        nav_motivation: "Inspirasyon",
        nav_progress: "Progreso",
        nav_calmbot: "CalmBot",
        nav_emergency: "Emerhensiya",
        nav_help: "Tulong",
        
        welcome_back: "Maligayang pagbabalik,",
        tagline_dashboard: "Ang galing mo ngayong araw",
        days_smoke_free: "Araw na Walang Sigarilyo",
        days_alcohol_free: "Araw na Walang Alak",
        money_saved: "Naimpok na Pera",
        cravings_resisted: "Nilabanan na Pagnanasa",
        your_recovery_journey: "Ang Iyong Paglalakbay sa Pagbangon",
        smoking_recovery: "Pagtigil sa Paninigarilyo",
        alcohol_recovery: "Pagtigil sa Pag-inom",
        just_starting: "Nagsisimula pa lang ang iyong paglalakbay",
        quick_actions: "Mabilisang Aksyon",
        log_craving: "Itala ang Pagnanasa",
        breathing_exercise: "Ehersisyo sa Paghinga",
        find_motivation: "Maghanap ng Inspirasyon",
        recent_achievements: "Mga Kamakailang Tagumpay",
        
        first_day: "Unang Araw",
        first_day_desc: "Kumpletuhin ang unang araw na malinis",
        week_warrior: "Mandirigmang Isang Linggo",
        week_warrior_desc: "Manatiling malinis sa loob ng 7 araw",
        month_master: "Dalubhasa ng Isang Buwan",
        month_master_desc: "Makamit ang 30 araw ng pagbabago",
        
        motivation_wall: "Pader ng Inspirasyon",
        tagline_motivation: "Maghanap ng lakas sa bawat sandali",
        community_encouragement: "Suporta ng Komunidad",
        
        progress_tracker: "Tagasubaybay ng Progreso",
        tagline_progress: "Visualisahin ang iyong paglalakbay",
        tab_daily: "Araw-araw",
        tab_weekly: "Lingguhan",
        tab_monthly: "Buwanan",
        tab_all: "Lahat ng Oras",
        today_summary: "Buod Ngayong Araw",
        cravings_logged: "Naitala na Pagnanasa",
        resisted: "Nilabanan",
        today_logs: "Mga Tala Ngayong Araw",
        no_logs_today: "Walang tala pa ngayong araw",
        this_week_progress: "Progreso Ngayong Linggo",
        total_logged: "Kabuuang Naitala",
        success_rate: "Rate ng Tagumpay",
        weekly_insights: "Mga Insight Ngayong Linggo",
        monthly_overview: "Buod ng Buwan",
        health_improvements: "Mga Pagpapabuti sa Kalusugan",
        milestones_achieved: "Mga Naabot na Milestone",
        complete_history: "Kumpletong Kasaysayan",
        
        calmbot_title: "CalmBot",
        tagline_calmbot: "Ang iyong AI kasama para sa suporta",
        calmbot_greeting: "Kumusta! Ako si CalmBot, ang iyong suportang kasama. Paano ka ngayong araw?",
        struggling_cravings: "Nahihirapan ako sa pagnanasa",
        doing_well: "Mabuti ako ngayong araw",
        need_tips: "Kailangan ko ng mga tip",
        need_motivation: "Kailangan ko ng inspirasyon",
        type_message: "I-type ang iyong mensahe...",
        
        emergency_support: "Suportang Pang-emerhensiya",
        tagline_emergency: "Laging may tulong na available",
        start_breathing: "Simulan ang Ehersisyo sa Paghinga",
        calm_mind: "Pakalmahin ang isip sa loob ng 2 minuto",
        talk_calmbot: "Makipag-usap kay CalmBot",
        immediate_support: "Kumuha ng agarang suporta",
        crisis_hotlines: "Mga Hotline para sa Krisis",
        trusted_contacts: "Mga Pinagkakatiwalaang Contact",
        add_contact: "Magdagdag ng Pinagkakatiwalaang Contact",
        add_contact_desc: "Magdagdag ng taong pinagkakatiwalaan mo para sa mabilis na access",
        
        help_tips: "Tulong at Mga Tip",
        tagline_help: "Ang iyong toolkit para sa pagbabago",
        faq_title: "Mga Madalas Itanong",
        coping_strategies: "Mabilis na Estratehiya sa Pagharap",
        
        close: "Isara",
        save: "I-save",
        cancel: "Kanselahin",
        
        log_craving_title: "Itala ang Pagnanasa",
        type: "Uri",
        select_type: "Pumili ng uri",
        smoking_vaping: "Paninigarilyo/Vaping",
        alcohol: "Alak",
        both: "Pareho",
        intensity: "Tindi",
        what_triggered: "Ano ang nag-trigger?",
        select_trigger: "Pumili ng trigger",
        trigger_stress: "Stress",
        trigger_social: "Social na Setting",
        trigger_boredom: "Pagkabagot",
        trigger_habit: "Gawi/Routine",
        trigger_emotion: "Malakas na Emosyon",
        trigger_other: "Iba pa",
        notes: "Mga Tala (opsyonal)",
        notes_placeholder: "Paano mo nararamdaman?",
        resisted_craving: "Nilabanan ko ang pagnanasang ito",
        save_log: "I-save ang Tala",
        
        breathing_title: "Ehersisyo sa Paghinga",
        get_ready: "Maghanda...",
        start_exercise: "Simulan ang Ehersisyo",
        stop_exercise: "Itigil ang Ehersisyo",
        breathe_in: "Huminga...",
        hold: "Hawakan...",
        breathe_out: "Bumuga...",
        great_job: "Mahusay! Natapos mo ang ehersisyo.",
        start_again: "Simulan Muli",
        
        settings: "Mga Setting",
        personal: "Personal",
        display_name: "Pangalan na Ipapakita",
        display_name_hint: "Paano mo gustong tawagin sa app",
        language: "Wika",
        language_hint: "Pumili ng gustong wika",
        display: "Display",
        theme: "Tema",
        theme_hint: "Pumili ng color scheme",
        dark_mode: "Dark Mode (Default)",
        light_mode: "Light Mode",
        auto_theme: "Auto (Sistema)",
        text_size: "Laki ng Text",
        text_size_hint: "Ayusin ang laki ng text para mas mabasa",
        size_small: "Maliit",
        size_normal: "Normal (Default)",
        size_large: "Malaki",
        size_xlarge: "Napaka-laki",
        high_contrast: "High Contrast Mode",
        high_contrast_hint: "Taasan ang contrast para mas makita",
        reduce_animations: "Bawasan ang Animations",
        reduce_animations_hint: "Bawasan ang kilos para sa sensitive na users",
        notifications: "Mga Notification",
        enable_notifications: "I-enable ang Notifications",
        notifications_hint: "Ipakita ang achievement at reminder notifications",
        sound_effects: "Mga Sound Effect",
        sound_effects_hint: "Tumugtog ng tunog para sa interactions at achievements",
        data_management: "Pamamahala ng Data",
        export_data: "I-export ang Iyong Data",
        export_hint: "I-download ang data bilang JSON backup",
        export_btn: "I-export",
        reset_data: "I-reset ang Lahat ng Data",
        reset_hint: "Buburahin nito ang lahat ng iyong progreso permanente",
        reset_btn: "I-reset",
        about: "Tungkol",
        app_name: "ReKindle",
        version: "Bersyon 1.0",
        app_description: "Ang iyong kasama sa pagbabago at transformasyon",
        app_credits: "HCI Final Project â€¢ Ginawa nang may â¤ï¸",
        
        name_updated: "Na-update ang pangalan!",
        language_updated: "Na-update ang wika!",
        theme_updated: "Na-update ang tema!",
        text_size_updated: "Na-update ang laki ng text!",
        high_contrast_enabled: "Na-enable ang high contrast",
        high_contrast_disabled: "Na-disable ang high contrast",
        animations_reduced: "Nabawasan ang animations",
        animations_enabled: "Na-enable ang animations",
        data_exported: "Matagumpay na na-export ang data!",
        amazing_resisted: "Ang galing! Nilabanan mo!",
        progress_not_linear: "Naitala. Tandaan, hindi tuwid ang progreso. Patuloy lang!",
        breathing_completed: "Natapos ang ehersisyo sa paghinga!",
        
        days_strong: "{{days}} araw na malakas!",
        days_counting: "{{days}} araw at patuloy! Magpatuloy!",
        days_amazing: "{{days}} araw! Ang galing mo!",
        days_champion: "{{days}} araw! Champion ka!",
    },
    
    currentLanguage: 'en',
    
    init() {
        const savedLang = localStorage.getItem('rekindle_language');
        if (savedLang && (savedLang === 'en' || savedLang === 'fil')) {
            this.currentLanguage = savedLang;
        }
        this.applyTranslations();
    },
    
    t(key, params = {}) {
        const translation = this[this.currentLanguage][key] || this.en[key] || key;
        
        let result = translation;
        for (const [param, value] of Object.entries(params)) {
            result = result.replace(`{{${param}}}`, value);
        }
        
        return result;
    },
    
    setLanguage(lang) {
        if (lang === 'en' || lang === 'fil') {
            this.currentLanguage = lang;
            localStorage.setItem('rekindle_language', lang);
            this.applyTranslations();
            
            if (typeof AppData !== 'undefined') {
                AppData.user.language = lang;
                AppData.save();
            }
        }
    },
    
    applyTranslations() {
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translation = this.t(key);
            
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                if (element.hasAttribute('placeholder')) {
                    element.placeholder = translation;
                }
            } else {
                element.textContent = translation;
            }
        });

        this.updateDynamicContent();
    },
    
    updateDynamicContent() {
        const dashboardHeader = document.querySelector('#dashboard .page-header h1');
        if (dashboardHeader) {
            const userName = document.getElementById('userName')?.textContent || 'Friend';
            dashboardHeader.innerHTML = `${this.t('welcome_back')}, <span id="userName">${userName}</span>! ðŸ‘‹`;
        }

        document.querySelectorAll('.tagline').forEach((tagline, index) => {
            const pageId = tagline.closest('.page')?.id;
            if (pageId) {
                const key = `tagline_${pageId}`;
                if (this[this.currentLanguage][key]) {
                    tagline.textContent = this.t(key);
                }
            }
        });

        document.querySelectorAll('.nav-link').forEach(link => {
            const page = link.getAttribute('data-page');
            if (page) {
                link.textContent = this.t(`nav_${page}`);
            }
        });
    }
};

document.addEventListener('DOMContentLoaded', () => {
    Translations.init();
});

window.Translations = Translations;